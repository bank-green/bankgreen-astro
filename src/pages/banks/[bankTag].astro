---
import BaseLayout from "@layouts/BaseLayout.astro";
import { BankScorePage } from "@components/pages";

export async function getStaticPaths() {
  // TODO: Fetch all banks from GraphQL
  // const data = await graphqlFetch(`query { banks { tag } }`);
  // return data.banks.map((bank) => ({ params: { bankTag: bank.tag } }));
  return [];
}

const { bankTag } = Astro.params;

// TODO: Fetch bank data from GraphQL
const bank = null;

const title = bank ? `${bank.name}'s Climate Score` : "Bank Climate Score";
---

<BaseLayout title={title}>
  <BankScorePage bank={bank} client:load />
</BaseLayout>
