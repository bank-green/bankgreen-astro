---
import { BankProfilePage } from '@components/pages'
import BaseLayout from '@layouts/BaseLayout.astro'

interface BankData {
  tag: string
  name: string
}

export async function getStaticPaths() {
  // TODO: Fetch all sustainable banks from GraphQL
  // const data = await graphqlFetch(`query { sustainableBanks { tag } }`);
  // return data.sustainableBanks.map((bank) => ({ params: { bankTag: bank.tag } }));
  return []
}

const { bankTag } = Astro.params

// TODO: Fetch bank data from GraphQL
const bank: BankData | null = null

const bankName = (bank as BankData | null)?.name ?? 'Bank'
const title = `${bankName} Review`
---

<BaseLayout title={title}>
  <BankProfilePage bank={bank} />
</BaseLayout>
