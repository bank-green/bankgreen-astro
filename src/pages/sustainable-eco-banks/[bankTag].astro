---
import BaseLayout from "@layouts/BaseLayout.astro";
import { BankProfilePage } from "@components/pages";

export async function getStaticPaths() {
  // TODO: Fetch all sustainable banks from GraphQL
  // const data = await graphqlFetch(`query { sustainableBanks { tag } }`);
  // return data.sustainableBanks.map((bank) => ({ params: { bankTag: bank.tag } }));
  return [];
}

const { bankTag } = Astro.params;

// TODO: Fetch bank data from GraphQL
const bank = null;

const title = bank ? `${bank.name} Review` : "Bank Review";
---

<BaseLayout title={title}>
  <BankProfilePage bank={bank} client:load />
</BaseLayout>
